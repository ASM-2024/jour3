<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="victor-emmanuel.provost" />
  <title>Low-level input and output</title>
<link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
  <link rel="stylesheet" href="style.css" />
<style type="text/css">
  :root {
/*
  --color: #2096ba;
  --color-secondary: #2096ba;
  --color-accent: #f7f8fa;
  --color-text: #222426;
  --color-shadow: #c5d2db;
  --width-content: 720px;
  }
*/

  code, samp {
    font-size: 1.2em;
  }

  nav {
    justify-content: space-evenly;
  }


  a:hover {
    filter: none;
    color: #df6e21;
  }
</style>
</head>
<body>
<header id="title-block-header">
  <nav id="TOC">
      <a href="https://asm-2024.github.io/jour3/"><img alt="Logo" src="https://avatars.githubusercontent.com/u/96961500?s=200&amp;v=4" height="70"></a>
            <ul>
          <li><a href="#">Navigation</a>
            <ul>
            <li><a href="#introduction">Introduction</a></li>
            <li><a href="#low-level-io">Low-level I/O</a>
            <ul>
            <li><a href="#my_puts.c">my_puts.c</a></li>
            <li><a href="#file_type.c">file_type.c</a></li>
            <li><a href="#parrot.c">parrot.c</a></li>
            </ul></li>
            <li><a href="#correction">Correction</a></li>
            </ul>
          </li>
      </ul>
        </nav>
<h1 class="title">Low-level input and output</h1>
<p class="author">victor-emmanuel.provost</p>
</header>
<main>
<hr>
<article>
<p><a href="C_UNIX_Workshop_IO_Signals.pdf">Today’s slides</a></p>
<h1 id="introduction">Introduction</h1>
<p>The first part of today’s practical aims at seeing how input/output is managed at low-level. To do so, you are going to be restricted in the headers you can use, meaning, you <strong>cannot</strong> use <code>&lt;stdio.h&gt;</code>.</p>
<p>Here is the skeleton for this part: <a href="io_skeleton.tar.gz">I/O Skeleton</a></p>
<h1 id="low-level-io">Low-level I/O</h1>
<p>For this part, you will need the following <code>syscalls</code>:</p>
<ul>
<li>open(2)</li>
<li>read(2)</li>
<li>stat(2)</li>
<li>write(2)</li>
</ul>
<h2 id="my_puts.c">my_puts.c</h2>
<p>The first step you will be taken is to code a small version of <code>puts(3)</code> You are expected to write a function that, when given a string, will print it to <code>stdout</code>.</p>
<p>Though <code>puts</code>’ man-page specifies return values, we will not be returning anything from puts as, since you have to exit the program if <code>write</code> fails, this takes care of any potential error.</p>
<h2 id="file_type.c">file_type.c</h2>
<p>This exercise aims at introducing <code>stat(2)</code>. Your objective is to write the function <code>void file_type(char *filename)</code> that takes a filename and prints whether this file is a regular file or a directory. (Hint: You might want to take a look at the macros S_IS<em>-something</em> that come with <code>stat</code>).</p>
<p>Expected output:</p>
<pre class="sh"><code>asm$ ./file_type some_file
The given file is a regular file!
asm$ ./file_type some_dir
The given file is a directory!</code></pre>
<h2 id="parrot.c">parrot.c</h2>
<p>The purpose of this exercise is to write a program that takes a file as a parameter, and asks the user to give a number which represents the amount of time the content of the given file will be printed on the terminal. Extra information are given in the skeleton of the <code>parrot.c</code> file.</p>
<p>Expected output:</p>
<pre class="sh"><code>asm$ cat some_file
Hello there!
asm$ ./parrot some_file
Squuuuaaaaaawk! Hello human, give me a number!
5
Hello there!
Hello there!
Hello there!
Hello there!
Hello there!
asm$ ./parrot some_file
a
parrot: Squuuuaaaaaawk! The given value is invalid. Try again!
Squuuuaaaaaawk! Hello human, give me a number!</code></pre>
<h1 id="correction">Correction</h1>
<p>A correction will be given this weekend. It will be on the Github repository and the link will be given here. This will <strong>not</strong> be the <strong>only</strong> nor <strong>the best</strong> solution to the problem but do take the time to read it as it uses advanced concepts!</p>
<hr>
</article>
</main>
</body>
</html>
